<div class="container mx-auto">
    <p class="text-4xl">
        {{ 
            ( currentHero.id )
            ? 'Editar'
            : 'Nuevo'
         }}
        Héroe
        <small>{{ currentHero.superhero }}</small>
    </p>

    <mat-divider></mat-divider>
    
    <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="40px" class="bg-white p-4 shadow-lg my-4">
        <form [formGroup]="heroForm" fxFlex="50" fxLayout="column" (ngSubmit)="onSubmit()">
            
            <div fxLayout="row" fxLayoutGap="40px" fxLayout.xs="column">
                <mat-form-field fxFlex="100">
                    <mat-label>Super Héroe</mat-label>
                    <input 
                        matInput 
                        type="text"
                        required
                        formControlName="superhero"
                    >
                </mat-form-field>
        
                <mat-form-field fxFlex="100">
                    <mat-label>Alter Ego</mat-label>
                    <input 
                        matInput 
                        type="text"
                        required
                        formControlName="alter_ego"
                    >
                </mat-form-field>
        
            </div>
    
            <mat-form-field>
                <mat-label>Primera Aparición</mat-label>
                <input 
                    matInput 
                    type="text"
                    formControlName="first_appearance"
                    required
                >
            </mat-form-field>
    
            <mat-form-field>
                <mat-label>Personajes</mat-label>
                <input 
                    matInput 
                    type="text"
                    formControlName="characters"
                    required
                >
            </mat-form-field>
    
            <mat-form-field>
                <mat-label>Creador</mat-label>
                <mat-select formControlName="publisher" required>
                    <mat-option 
                        *ngFor="let publisher of publishers"
                        [value]="publisher.id"
                    >
                        {{ publisher.desc }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
    
            <mat-form-field>
                <mat-label>Foto Url</mat-label>
                <input 
                    matInput 
                    type="text"
                    formControlName="alt_img"
                    required
                >
            </mat-form-field>

            <button 
                mat-raised-button 
                color="primary"
                (click)="onSubmit()"
            >
                <mat-icon>bookmark</mat-icon>
                {{
                    ( currentHero.id) ? 'Guardar' : 'Insertar'
                }}
            </button>
    
            <br>
    
        </form>   
    
        <button
            *ngIf="currentHero.id"
            mat-raised-button
            color="warn"
            type="button"
            class="h-12"
            (click)="deleteHeroe()"
        >
            <mat-icon>delete</mat-icon>
        </button>

        <div fxFlex="50">
            <img [src]="currentHero | imagen" >
        </div>
    </div>
</div>

<div>
    <code>
        {{
            currentHero | json
        }}
    </code>
</div>
